(function(t){function e(e){for(var n,o,a=e[0],u=e[1],c=e[2],d=0,m=[];d<a.length;d++)o=a[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(m.length)m.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,a=1;a<s.length;a++){var u=s[a];0!==i[u]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},i={app:0},r=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var l=u;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("cd49")},1551:function(t,e,s){"use strict";s("6861")},"5c0b":function(t,e,s){"use strict";s("9c0c")},6861:function(t,e,s){},"697f":function(t,e,s){},"720a":function(t,e,s){},"7c4d":function(t,e,s){"use strict";s("720a")},"85a1":function(t,e,s){},"9c0c":function(t,e,s){},c880:function(t,e,s){"use strict";s("697f")},c9d4:function(t,e,s){},cd49:function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"controls"},[s("label",{staticClass:"load-file"},[s("input",{ref:"file",attrs:{type:"file",accept:"application/json"},on:{change:t.loadJson}}),t._v(" Load JSON ")]),s("button",{on:{click:t.save}},[t._v("Save JSON")]),s("button",{on:{click:t.clear}},[t._v("Clear")])]),s("h2",[t._v("Settings")]),s("test-settings"),s("h2",[t._v("Questions")]),s("ul",{staticClass:"test-questions"},[t._l(t.questions,(function(e,n){return s("test-question",{key:n,attrs:{index:n,value:e.text,edit:e.editMode},on:{edit:function(){return t.editMode({questionIndex:n,enable:!e.editMode})},remove:function(){return t.removeQuestion(n)},change:function(e){return t.updateQuestion({questionIndex:n,data:{text:e}})}}},[t._l(e.answers,(function(i,r){return s("test-answer",{key:r,attrs:{questionIndex:n,text:i.text,correct:i.isCorrect,multiple:e.multiple,edit:e.editMode},on:{remove:function(){return t.removeAnswer({questionIndex:n,index:r})},change:function(e){return t.updateAnswer({questionIndex:n,index:r,data:e})}}})})),e.editMode?s("test-answer",{attrs:{questionIndex:n,multiple:e.multiple,edit:!0,isNew:!0},on:{add:function(e){return t.newAnswer({questionIndex:n,data:e})}}}):t._e()],2)})),0==t.questions.length?s("li",{staticClass:"controls"},[s("p",[t._v("There are no questions in test.")])]):t._e(),s("li",{staticClass:"controls"},[s("button",{on:{click:function(){return t.newQuestion(!1)}}},[t._v("Add question (single answer)")]),s("button",{on:{click:function(){return t.newQuestion(!0)}}},[t._v("Add question (multiple answers)")])])],2),s("div",{staticClass:"controls"},[s("button",{on:{click:t.save}},[t._v("Save JSON")]),s("button",{on:{click:t.clear}},[t._v("Clear")])])],1)},r=[],o=s("2f62"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"test-settings"},[s("li",[s("label",{attrs:{for:"tresholdPercentage"}},[t._v("Treshold percentage:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.tresholdPercentage,expression:"tresholdPercentage"}],attrs:{id:"tresholdPercentage",type:"number",min:"0",max:"100"},domProps:{value:t.tresholdPercentage},on:{input:function(e){e.target.composing||(t.tresholdPercentage=e.target.value)}}})]),s("li",[s("label",{attrs:{for:"numberOfQuestions"}},[t._v("Number of questions: ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.numberOfQuestions,expression:"numberOfQuestions"}],attrs:{id:"numberOfQuestions",type:"number"},domProps:{value:t.numberOfQuestions},on:{input:function(e){e.target.composing||(t.numberOfQuestions=e.target.value)}}})]),s("li",[s("label",{attrs:{for:"maxAttemptsNumber"}},[t._v("Max attempts:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.maxAttemptsNumber,expression:"maxAttemptsNumber"}],attrs:{id:"maxAttemptsNumber",type:"number"},domProps:{value:t.maxAttemptsNumber},on:{input:function(e){e.target.composing||(t.maxAttemptsNumber=e.target.value)}}})]),s("li",[s("label",{attrs:{for:"strictAttemptsMode"}},[t._v("Strict attempts mode:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.strictAttemptsMode,expression:"strictAttemptsMode"}],attrs:{id:"strictAttemptsMode",type:"checkbox"},domProps:{checked:Array.isArray(t.strictAttemptsMode)?t._i(t.strictAttemptsMode,null)>-1:t.strictAttemptsMode},on:{change:function(e){var s=t.strictAttemptsMode,n=e.target,i=!!n.checked;if(Array.isArray(s)){var r=null,o=t._i(s,r);n.checked?o<0&&(t.strictAttemptsMode=s.concat([r])):o>-1&&(t.strictAttemptsMode=s.slice(0,o).concat(s.slice(o+1)))}else t.strictAttemptsMode=i}}})])])},u=[],c=n["a"].extend({name:"TestSettings",computed:{tresholdPercentage:{get(){return this.$store.state.testSettings.tresholdPercentage},set(t){this.$store.dispatch("setSettings",{tresholdPercentage:Number(t)})}},numberOfQuestions:{get(){return this.$store.state.testSettings.numberOfQuestions},set(t){this.$store.dispatch("setSettings",{numberOfQuestions:Number(t)})}},maxAttemptsNumber:{get(){return this.$store.state.testSettings.maxAttemptsNumber},set(t){this.$store.dispatch("setSettings",{maxAttemptsNumber:Number(t)})}},strictAttemptsMode:{get(){return this.$store.state.testSettings.strictAttemptsMode},set(t){this.$store.dispatch("setSettings",{strictAttemptsMode:t})}}}}),l=c,d=(s("c880"),s("2877")),m=Object(d["a"])(l,a,u,!1,null,null,null),p=m.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"test-question"},[s("span",[t._v(t._s(t.num))]),s("editable-text",{staticClass:"question-text",attrs:{edit:t.edit,multiline:!0},model:{value:t.questionValue,callback:function(e){t.questionValue=e},expression:"questionValue"}}),t.edit?s("button",{attrs:{title:"Delete question"},on:{click:function(e){return t.$emit("remove")}}},[t._v("✖")]):t._e(),s("button",{attrs:{title:t.edit?"OK":"Edit"},on:{click:function(e){return t.$emit("edit")}}},[t._v(t._s(t.edit?"✔":"✎"))]),s("ul",{staticClass:"test-answers"},[t._t("default")],2)],1)},h=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editable-text"},[t.edit&&!t.multiline?s("input",{ref:"editField",attrs:{type:"text"},domProps:{value:t.value},on:{change:function(e){return t.inputHandler(e.target.value)}}}):t.edit?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"editMultiField",domProps:{value:t.value},on:{change:function(e){return t.inputHandler(e.target.value)},input:function(e){e.target.composing||(t.value=e.target.value)}}}):s("span",[t._v(t._s(t.value))])])},b=[],x=n["a"].extend({name:"EditableText",props:{edit:Boolean,value:String,multiline:Boolean},methods:{inputHandler(t){this.$emit("input",t)}},watch:{edit(t){t&&this.$nextTick(()=>{this.multiline?this.$refs["editMultiField"].focus():this.$refs["editField"].focus()})}}}),g=x,w=(s("ff8c"),Object(d["a"])(g,v,b,!1,null,null,null)),q=w.exports,A=n["a"].extend({name:"TestQuestion",components:{EditableText:q},props:{edit:Boolean,value:String,index:Number},computed:{questionValue:{get(){return this.value},set(t){this.$emit("change",t)}},num(){return`#${this.index<9?"0":""}${this.index+1}`}}}),_=A,N=(s("1551"),Object(d["a"])(_,f,h,!1,null,null,null)),S=N.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"test-answer"},[s("editable-mark",{staticClass:"answer-mark",attrs:{value:t.isNew?t.newData.isCorrect:t.correct,edit:t.edit,group:t.group,multiple:t.multiple},on:{input:t.changeMark}}),s("editable-text",{staticClass:"answer-text",attrs:{value:t.isNew?t.newData.text:t.text,edit:t.edit},on:{input:t.changeText}}),t.edit&&!t.isNew?s("button",{attrs:{title:"Delete answer"},on:{click:function(e){return t.$emit("remove")}}},[t._v("✖")]):t._e(),t.edit&&t.isNew?s("button",{attrs:{title:"Add new answer"},on:{click:t.addNew}},[t._v("✚")]):t._e()],1)},M=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editable-mark"},[t.edit?s("input",{attrs:{type:t.multiple?"checkbox":"radio",name:t.group},domProps:{checked:t.value},on:{change:t.checkHandler}}):s("span",{class:{correct:t.value}},[t._v(" "+t._s(t.value?"✔":"✘")+" ")])])},Q=[],y=n["a"].extend({name:"EditableMark",props:{edit:Boolean,value:Boolean,group:String,multiple:Boolean},methods:{checkHandler(t){this.$emit("input",t.target.checked)}}}),$=y,C=(s("d52e"),Object(d["a"])($,k,Q,!1,null,null,null)),I=C.exports,P=n["a"].extend({name:"TestAnswer",components:{EditableMark:I,EditableText:q},props:{edit:Boolean,questionIndex:Number,text:String,correct:Boolean,multiple:Boolean,isNew:Boolean},data(){return{group:void 0!==this.questionIndex?"q-"+this.questionIndex:void 0,newData:{text:"",isCorrect:!1}}},methods:{addNew(){this.$emit("add",this.newData),this.$nextTick(()=>{this.newData.text="",this.newData.isCorrect=!1})},changeMark(t){this.isNew?this.newData.isCorrect=t:this.$emit("change",{text:this.text,isCorrect:t})},changeText(t){this.isNew?this.newData.text=t:this.$emit("change",{text:t,isCorrect:this.correct})}}}),j=P,T=(s("7c4d"),Object(d["a"])(j,O,M,!1,null,null,null)),E=T.exports,B=n["a"].extend({name:"App",components:{TestSettings:p,TestQuestion:S,TestAnswer:E},computed:{questions(){return this.$store.state.questions}},methods:Object.assign(Object.assign({},Object(o["b"])(["editMode","newQuestion","removeQuestion","removeAnswer","newAnswer","updateAnswer","updateQuestion","save","clear"])),{loadJson(t){const e=t.target;e.files&&(this.$store.dispatch("load",e.files[0]),this.$nextTick(()=>{e.value=""}))}}),mounted(){this.$store.dispatch("restore")}}),J=B,D=(s("5c0b"),Object(d["a"])(J,i,r,!1,null,null,null)),H=D.exports,F=s("9ab4");function V({text:t,multiple:e,answers:s}){return{question:t,multiple:e,answers:s.map(t=>t.text)}}function L({testSettings:t,questions:e}){return{public:Object.assign(Object.assign({},t),{questions:e.map(V)}),answers:e.map(t=>t.answers.map((t,e)=>t.isCorrect?e:-1).filter(t=>t>=0))}}const R=document.createElement("a");function U(t){const e=JSON.stringify(L(t),null,2),s=new Blob([e],{type:"application/json"});R.href=URL.createObjectURL(s),R.download=t.fileName,R.click()}function K(t){return{maxAttemptsNumber:t.public.maxAttemptsNumber,numberOfQuestions:t.public.numberOfQuestions,strictAttemptsMode:t.public.strictAttemptsMode,tresholdPercentage:t.public.tresholdPercentage}}function z(t){return t.public.questions.map(({question:e,answers:s,multiple:n},i)=>({text:e,multiple:n,editMode:!1,answers:s.map((e,s)=>({text:e,isCorrect:t.answers[i].includes(s)}))}))}n["a"].use(o["a"]);const G={tresholdPercentage:90,numberOfQuestions:10,maxAttemptsNumber:2,strictAttemptsMode:!1},W=[];var X=new o["a"].Store({state:{fileName:"new-test.json",testSettings:G,questions:W},mutations:{setSettings({testSettings:t},e){var s,n,i,r;t.maxAttemptsNumber=null!==(s=e.maxAttemptsNumber)&&void 0!==s?s:t.maxAttemptsNumber,t.numberOfQuestions=null!==(n=e.numberOfQuestions)&&void 0!==n?n:t.numberOfQuestions,t.strictAttemptsMode=null!==(i=e.strictAttemptsMode)&&void 0!==i?i:t.strictAttemptsMode,t.tresholdPercentage=null!==(r=e.tresholdPercentage)&&void 0!==r?r:t.tresholdPercentage},addQuestion({questions:t},e){t.push(Object.assign({},e))},removeQuestion({questions:t},e){t.splice(e,1)},updateQuestion({questions:t},e){var s,n,i;t[e.questionIndex].text=null!==(s=e.data.text)&&void 0!==s?s:t[e.questionIndex].text,t[e.questionIndex].editMode=null!==(n=e.data.editMode)&&void 0!==n?n:t[e.questionIndex].editMode,t[e.questionIndex].multiple=null!==(i=e.data.multiple)&&void 0!==i?i:t[e.questionIndex].multiple},addAnswer({questions:t},e){e.data.isCorrect&&!t[e.questionIndex].multiple&&t[e.questionIndex].answers.forEach(t=>t.isCorrect=!1),t[e.questionIndex].answers.push(Object.assign({},e.data))},removeAnswer({questions:t},e){t[e.questionIndex].answers.splice(e.index,1)},updateAnswer({questions:t},e){var s;t[e.questionIndex].answers[e.index].text=null!==(s=e.data.text)&&void 0!==s?s:t[e.questionIndex].answers[e.index].text,e.data.isCorrect&&!t[e.questionIndex].multiple&&(t[e.questionIndex].answers.forEach(t=>t.isCorrect=!1),t[e.questionIndex].answers[e.index].isCorrect=e.data.isCorrect)},changeEditMode({questions:t},e){e.enable&&t.forEach(t=>t.editMode=!1),t[e.questionIndex].editMode=e.enable},setState(t,{fileName:e,data:s}){t.testSettings=K(s),t.questions=z(s),t.fileName=e},restoreState(t,{testSettings:e,questions:s,fileName:n}){t.testSettings=e,t.questions=s,t.fileName=n},clearState(t){t.testSettings=G,t.fileName="new-test.json",t.questions=W}},actions:{setSettings({commit:t,dispatch:e},s){t("setSettings",s),e("backup")},newQuestion({commit:t,state:e,dispatch:s},n){const i={text:"Question "+(e.questions.length+1),multiple:n,answers:[],editMode:!0};t("addQuestion",i),s("backup")},removeQuestion({commit:t,dispatch:e},s){t("removeQuestion",s),e("backup")},updateQuestion({commit:t,dispatch:e},s){t("updateQuestion",s),e("backup")},editMode({commit:t,dispatch:e},s){t("changeEditMode",s),e("backup")},newAnswer({commit:t,dispatch:e},s){t("addAnswer",s),e("backup")},removeAnswer({commit:t,dispatch:e},s){t("removeAnswer",s),e("backup")},updateAnswer({commit:t,dispatch:e},s){t("updateAnswer",s),e("backup")},save({state:t}){U(t)},load({commit:t,dispatch:e},s){return Object(F["a"])(this,void 0,void 0,(function*(){const n=yield s.text(),i=JSON.parse(n);t("setState",{fileName:s.name,data:i}),e("backup")}))},backup({state:t}){const e=JSON.stringify(t);window.localStorage.setItem("editor-state",e)},restore({commit:t}){const e=window.localStorage.getItem("editor-state");if(!e)return;const s=JSON.parse(e);t("restoreState",s)},clear({commit:t}){t("clearState"),window.localStorage.removeItem("editor-state")}}});n["a"].config.productionTip=!1,new n["a"]({store:X,render:t=>t(H)}).$mount("#app")},d52e:function(t,e,s){"use strict";s("c9d4")},ff8c:function(t,e,s){"use strict";s("85a1")}});
//# sourceMappingURL=app.0bd52043.js.map